/**
 * Tagify (v 4.6.0) - tags input component
 * By Yair Even-Or
 * Don't sell this code. (c)
 * https://github.com/yairEO/tagify
 */

!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.React.tagify=n()}(this,(function(){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.MixedTags=void 0;var n,t=function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!==e(n)&&"function"!=typeof n)return{default:n};var o=a(t);if(o&&o.has(n))return o.get(n);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if("default"!==i&&Object.prototype.hasOwnProperty.call(n,i)){var c=u?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}r.default=n,o&&o.set(n,r);return r}(require("react")),o=require("react-dom/server"),r=require("prop-types"),u=(n=require("./tagify.min.js"))&&n.__esModule?n:{default:n},i=["children"];function a(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:n})(e)}function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function d(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)t=u[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)t=u[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function f(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var s=function(e){return e};var p=function(e){var n=e.name,r=e.value,i=e.loading,a=void 0!==i&&i,c=e.onInput,d=void 0===c?s:c,l=e.onAdd,p=void 0===l?s:l,y=e.onRemove,v=void 0===y?s:y,g=e.onEditInput,w=void 0===g?s:g,m=e.onEditBeforeUpdate,b=void 0===m?s:m,h=e.onEditUpdated,O=void 0===h?s:h,E=e.onEditStart,S=void 0===E?s:E,j=e.onEditKeydown,D=void 0===j?s:j,M=e.onInvalid,x=void 0===M?s:M,I=e.onClick,k=void 0===I?s:I,A=e.onKeydown,R=void 0===A?s:A,T=e.onFocus,N=void 0===T?s:T,P=e.onBlur,C=void 0===P?s:P,U=e.onChange,F=void 0===U?s:U,_=e.onDropdownShow,V=void 0===_?s:_,q=e.onDropdownHide,B=void 0===q?s:q,K=e.onDropdownSelect,W=void 0===K?s:K,H=e.onDropdownScroll,J=void 0===H?s:H,$=e.onDropdownNoMatch,z=void 0===$?s:$,G=e.onDropdownUpdated,L=void 0===G?s:G,Q=e.readOnly,X=e.disabled,Y=e.children,Z=e.settings,ee=void 0===Z?{}:Z,ne=e.InputMode,te=void 0===ne?"input":ne,oe=e.autoFocus,re=e.className,ue=e.whitelist,ie=e.tagifyRef,ae=e.placeholder,ce=void 0===ae?"":ae,de=e.defaultValue,fe=e.showDropdown,le=(0,t.useRef)(),se=(0,t.useRef)(),pe=(0,t.useRef)(),ye=de||r,ve=(0,t.useMemo)((function(){return{ref:se,name:n,defaultValue:Y||"string"==typeof ye?ye:JSON.stringify(ye),className:re,readOnly:Q,disabled:X,autoFocus:oe,placeholder:ce}}),[]),ge=(0,t.useCallback)((function(){oe&&pe.current&&pe.current.DOM.input.focus()}),[pe]);return(0,t.useEffect)((function(){!function(e){if(e){var n=function(n){var r=e[n];String(r).includes("jsxRuntime")&&(e[n]=function(){for(var e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];return(0,o.renderToStaticMarkup)(t.default.createElement(r,{props:n}))})};for(var r in e)n(r)}}(ee.templates),"textarea"==te&&(ee.mode="mix"),ue&&ue.length&&(ee.whitelist=ue);var e=new u.default(se.current,ee);return e.on("input",d).on("add",p).on("remove",v).on("invalid",x).on("keydown",R).on("focus",N).on("blur",C).on("click",k).on("change",F).on("edit:input",w).on("edit:beforeUpdate",b).on("edit:updated",O).on("edit:start",S).on("edit:keydown",D).on("dropdown:show",V).on("dropdown:hide",B).on("dropdown:select",W).on("dropdown:scroll",J).on("dropdown:noMatch",z).on("dropdown:updated",L),ie&&(ie.current=e),pe.current=e,ge(),function(){e.destroy()}}),[]),(0,t.useEffect)((function(){ge()}),[oe]),(0,t.useEffect)((function(){var e;le.current&&(pe.current.settings.whitelist.length=0,ue&&ue.length&&(e=pe.current.settings.whitelist).push.apply(e,f(ue)))}),[ue]),(0,t.useEffect)((function(){var e,n,t=pe.current.getInputValue();le.current&&(e=t,(n=function(e){return"string"==typeof e?e:JSON.stringify(e)})(r)!=n(e))&&pe.current.loadOriginalValues(r)}),[r]),(0,t.useEffect)((function(){le.current&&pe.current.toggleClass(re)}),[re]),(0,t.useEffect)((function(){le.current&&pe.current.loading(a)}),[a]),(0,t.useEffect)((function(){le.current&&pe.current.setReadonly(Q)}),[Q]),(0,t.useEffect)((function(){le.current&&pe.current.setDisabled(X)}),[X]),(0,t.useEffect)((function(){var e=pe.current;le.current&&(fe?(e.dropdown.show.call(e,fe),e.toggleFocusClass(!0)):e.dropdown.hide.call(e))}),[fe]),(0,t.useEffect)((function(){le.current=!0}),[]),t.default.createElement("div",{className:"tags-input"},t.default.createElement(te,ve))};p.propTypes={name:r.string,value:(0,r.oneOfType)([r.string,r.array]),loading:r.bool,children:(0,r.oneOfType)([r.string,r.array]),onChange:r.func,readOnly:r.bool,settings:r.object,InputMode:r.string,autoFocus:r.bool,className:r.string,tagifyRef:r.object,whitelist:r.array,placeholder:r.string,defaultValue:(0,r.oneOfType)([r.string,r.array]),showDropdown:(0,r.oneOfType)([r.string,r.bool]),onInput:r.func,onAdd:r.func,onRemove:r.func,onEditInput:r.func,onEditBeforeUpdate:r.func,onEditUpdated:r.func,onEditStart:r.func,onEditKeydown:r.func,onInvalid:r.func,onClick:r.func,onKeydown:r.func,onFocus:r.func,onBlur:r.func,onDropdownShow:r.func,onDropdownHide:r.func,onDropdownSelect:r.func,onDropdownScroll:r.func,onDropdownNoMatch:r.func,onDropdownUpdated:r.func};var y=t.default.memo(p);y.displayName="Tags";exports.MixedTags=function(e){var n=e.children,o=d(e,i);return t.default.createElement(y,c({InputMode:"textarea"},o),n)};var v=y;return exports.default=v,exports}));